<div style="text-align: center; margin-top: 40px;">

    <h2 *ngIf="!isLoggedIn">{{ isSignup ? 'Sign Up' : 'Login' }}</h2>
    <p *ngIf="!isLoggedIn">
        {{ isSignup ? 'Create a new account to get started.' : 'Please log in to access the chatbot.' }}
    </p>

    <p *ngIf="isInvalidLogin" style="color: red; font-weight: bold;">
        Invalid email or password. Please try again.</p>

    <!-- LOGIN FORM -->
    <form *ngIf="!isLoggedIn && !isSignup" [formGroup]="profileForm" (ngSubmit)="login()">
        <mat-form-field appearance="fill" class="w-full" style="width: 600px;">
            <mat-label>Email</mat-label>
            <input type="text" formControlName="email" matInput required />
        </mat-form-field><br>

        <mat-form-field appearance="fill" class="w-full" style="width: 600px;">
            <mat-label>Password</mat-label>
            <input type="password" formControlName="password" matInput required />
        </mat-form-field><br>

        <button mat-raised-button type="submit" [disabled]="profileForm.invalid" color="primary">Login</button><br><br>
        <button mat-button color="accent" (click)="toggleSignup()">Don't have an account? Sign Up</button>
    </form>

    <!-- SIGNUP FORM -->
    <form *ngIf="!isLoggedIn && isSignup" [formGroup]="signupForm" (ngSubmit)="signup()">
        <mat-form-field appearance="fill" class="w-full" style="width: 600px;">
            <mat-label>Name</mat-label>
            <input type="text" formControlName="name" matInput required />
        </mat-form-field><br>

        <mat-form-field appearance="fill" class="w-full" style="width: 600px;">
            <mat-label>Email</mat-label>
            <input type="email" formControlName="email" matInput required />
        </mat-form-field><br>

        <mat-form-field appearance="fill" class="w-full" style="width: 600px;">
            <mat-label>Password</mat-label>
            <input type="password" formControlName="password" matInput required />
        </mat-form-field><br>

        <button mat-raised-button type="submit" [disabled]="signupForm.invalid" color="primary">Sign Up</button><br><br>
        <button mat-button color="accent" (click)="toggleSignup()">Already have an account? Log In</button>
    </form>

</div>

<!-- WELCOME BLOCK -->
<div *ngIf="isLoggedIn" style="text-align: right; float: right; margin-right: 20px;">
    <h2>Welcome, {{ email }}!</h2>
    <button mat-raised-button (click)="logout()">Logout</button>
</div>